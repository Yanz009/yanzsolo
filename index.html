<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Web-Api</title>
  <!-- Font & Icon -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Inter:wght@300;500;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

  <style>
    :root {
      --neon1:#ff7f00;   /* oranye terang */
      --neon2:#ffb347;   /* oranye lembut */
      --panel:rgba(255,255,255,0.08);
      --text:#f3eaff;
      --bg:#0d0017;
    }
    *{margin:0;padding:0;box-sizing:border-box;}
    body{
      font-family:Inter,sans-serif;
      background:radial-gradient(circle at top,#130024,#000010);
      min-height:100vh;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:flex-start; /* posisi ke atas */
      padding:40px 20px 100px;
      text-align:center;
      color:var(--text);
      overflow-x:hidden;
      position:relative;
    }
    body::before{
      content:"";
      position:absolute;inset:0;
      background:url("https://files.catbox.moe/8z6rxh.jpg") no-repeat center/cover fixed;
      opacity:0.12;filter:blur(10px);
    }
    body>*{position:relative;z-index:1;}

    /* Logo dan Judul */
    .logo{
      width:280px;height:110px;border-radius:20px;overflow:hidden;margin-bottom:10px;
      box-shadow:0 0 30px rgba(255,127,0,0.5),0 0 40px rgba(255,179,71,0.2);
      transition:0.3s;
    }
    .logo img{width:100%;height:100%;object-fit:cover;transition:0.4s ease;}
    .logo:hover{transform:scale(1.05);}
    h1{
      font-family:"Orbitron",sans-serif;font-size:24px;margin-bottom:15px;
      background:linear-gradient(90deg,var(--neon1),var(--neon2));
      -webkit-background-clip:text;-webkit-text-fill-color:transparent;
    }

    /* Form */
    .form{
      display:none;
      flex-direction:column;
      gap:14px;
      width:100%;
      max-width:380px;
      background:rgba(255,255,255,0.04);
      padding:25px 22px;
      border-radius:18px;
      box-shadow:0 0 25px rgba(255,127,0,0.3),0 0 20px rgba(255,179,71,0.2);
      margin-top:10px;
    }
    .form.active{display:flex;}
    input,select{
      width:100%;padding:14px 16px;border-radius:12px;border:1px solid rgba(255,255,255,0.15);
      background:var(--panel);color:var(--text);font-size:15px;outline:none;
    }
    .btn{
      margin-top:10px;padding:14px;border:none;border-radius:30px;
      background:linear-gradient(90deg,var(--neon1),var(--neon2));
      color:#fff;font-weight:700;cursor:pointer;
      transition: all 0.25s ease;
    }
    .btn:hover {
      transform: scale(1.05);
      box-shadow: 0 0 25px var(--neon1);
    }

    /* Popup */
    .popup-overlay{
      position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
      background:rgba(0,0,0,0.7);backdrop-filter:blur(8px);
      opacity:0;pointer-events:none;transition:0.3s;
    }
    .popup-overlay.active{opacity:1;pointer-events:auto;}
    .popup-box{
      background:linear-gradient(145deg,rgba(25,0,40,0.9),rgba(10,0,20,0.8));
      border:2px solid var(--neon2);border-radius:20px;padding:40px 30px;text-align:center;
      box-shadow:0 0 30px var(--neon2);
    }
    .popup-box h2{font-family:"Orbitron";color:var(--neon2);}

    /* BOTTOM NAV */
    .bottom-nav{
      position:fixed;
      bottom:0;left:50%;transform:translateX(-50%);
      width:90%;max-width:480px;
      background:rgba(20,0,40,0.7);
      border-radius:20px 20px 0 0;
      box-shadow:0 0 25px rgba(255,179,71,0.3),0 0 30px rgba(255,127,0,0.3);
      display:flex;justify-content:space-around;align-items:center;
      padding:12px 0;
      backdrop-filter:blur(8px);
      z-index:1000;
    }
    .nav-item{
      display:flex;flex-direction:column;align-items:center;
      color:var(--text);
      font-size:13px;
      cursor:pointer;
      transition:0.3s;
    }
    .nav-item i{
      font-size:20px;margin-bottom:5px;
      transition:0.3s;
    }
    .nav-item.active{
      color:#fff;
      text-shadow:0 0 10px var(--neon2);
    }
    .nav-item.active i{
      color:var(--neon1);
      transform:scale(1.2);
      filter:drop-shadow(0 0 6px var(--neon1));
    }
    .nav-item:hover{transform:translateY(-4px);}
  </style>
</head>
<body>
  <audio id="bgm" autoplay loop muted>
    <source src="https://files.catbox.moe/7xec5e.m4a" type="audio/mpeg">
  </audio>

  <div class="logo"><img id="mainLogo" src="https://files.catbox.moe/unv85g.jpg" alt="Logo"></div>
  <h1 id="mainTitle">QUENCRASH</h1>

  <div class="form active" id="execute">
    <input type="tel" id="numberInput" placeholder="Example 62....." />
    <select id="modeSelect">
      <option value="" disabled selected>-- Select Menu --</option>
      <option value="fc">Fc Click</option>
      <option value="medium">Low Delay</option>
      <option value="blank">Blank andros</option>
      <option value="delay">Delay Invisible</option>
    </select>
    <button id="executeBtn" class="btn"><i class="fas fa-bolt"></i> EXECUTE</button>
  </div>

  <div class="form" id="osint">
    <input type="text" id="osintInput" placeholder="Masukkan Nama, Nomor, atau NIK" />
    <button id="osintBtn" class="btn"><i class="fas fa-search"></i> RUN</button>
    <div id="osintResult" class="result"></div>
  </div>

  <div class="form" id="track">
    <input type="text" id="ipInput" placeholder="Enter IP" />
    <button id="trackBtn" class="btn"><i class="fas fa-location-arrow"></i> TRACK</button>
    <div id="ipResult" class="result"></div>
  </div>

  <div id="popup" class="popup-overlay">
    <div class="popup-box">
      <h2><i class="fas fa-check-circle"></i> Success</h2>
      <p>Bug berhasil dikirim!</p>
    </div>
  </div>

  <div class="bottom-nav">
    <div class="nav-item active" data-target="execute"><i class="fas fa-bomb"></i><span>Attack</span></div>
    <div class="nav-item" data-target="osint"><i class="fas fa-user-secret"></i><span>Doxing</span></div>
    <div class="nav-item" data-target="track"><i class="fas fa-location-arrow"></i><span>ip</span></div>
  </div>

  <script>
    const forms = document.querySelectorAll('.form');
    const navItems = document.querySelectorAll('.nav-item');
    const mainLogo = document.getElementById('mainLogo');
    const mainTitle = document.getElementById('mainTitle');

    const logos = {
      default: "https://files.catbox.moe/fz9aja.jpg",
      track: "https://files.catbox.moe/9jex8w.jpg",
      osint: "https://files.catbox.moe/vdz18g.jpg"
    };

    function activateTab(id){
      forms.forEach(f=>f.classList.remove('active'));
      navItems.forEach(n=>n.classList.remove('active'));
      const target = document.getElementById(id);
      if(target) target.classList.add('active');
      const nav = [...navItems].find(n=>n.dataset.target===id);
      if(nav) nav.classList.add('active');

      // Ubah logo & judul sesuai menu
      if(id === 'track'){
        mainLogo.src = logos.track;
        mainTitle.textContent = 'Track ip';
      } else if(id === 'osint'){
        mainLogo.src = logos.osint;
        mainTitle.textContent = 'Doxing';
      } else {
        mainLogo.src = logos.default;
        mainTitle.textContent = 'WhatsApp Attack';
      }
    }

    navItems.forEach(i=>{
      i.addEventListener('click',()=>activateTab(i.dataset.target));
    });

    activateTab('execute');

    function showPopup(){
      const popup=document.getElementById('popup');
      popup.classList.add('active');
      setTimeout(()=>popup.classList.remove('active'),2000);
    }

    document.getElementById('executeBtn').addEventListener('click',()=>{
      const num=document.getElementById('numberInput').value.trim();
      const mode=document.getElementById('modeSelect').value;
      if(!num||!mode) return alert('Isi nomor dan pilih mode!');
      fetch('/execution?mode='+mode+'&target='+num)
      .then(r=>r.text())
      .then(()=>showPopup())
      .catch(err=>alert('Gagal: '+err.message));
    });

    document.getElementById('osintBtn').addEventListener('click',()=>{
      const q=document.getElementById('osintInput').value.trim();
      if(!q) return alert('Isi data dulu!');
      const res=document.getElementById('osintResult');
      res.style.display='block';
      res.textContent='Mencari data...';
      fetch('/osint?query='+encodeURIComponent(q))
        .then(r=>r.json())
        .then(d=>res.innerHTML='<pre>'+JSON.stringify(d,null,2)+'</pre>')
        .catch(e=>res.innerHTML='<p style="color:red;">'+e.message+'</p>');
    });

    async function trackIP() {
    const ip = document.getElementById('ipInput').value.trim() || 'check';
    const apiKey = 'd81e6d0ed0dd48e185643ffa047abc17';
    const url = 'https://api.ipgeolocation.io/ipgeo?apiKey=' + apiKey + '&ip=' + encodeURIComponent(ip);
    const ipRes = document.getElementById('ipResult');
    ipRes.style.display = 'block';
    ipRes.textContent = 'Querying...';

    try {
      const res = await fetch(url);
      if (!res.ok) throw new Error('HTTP ' + res.status);
      const data = await res.json();

      ipRes.innerHTML =
        '<p><b>IP:</b> ' + (data.ip || '-') + '</p>' +
        '<p><b>Negara:</b> ' + (data.country_name || '-') + '</p>' +
        '<p><b>Kota:</b> ' + (data.city || '-') + '</p>' +
        '<p><b>Provinsi:</b> ' + (data.state_prov || '-') + '</p>' +
        '<p><b>ISP:</b> ' + (data.isp || '-') + '</p>';
    } catch (e) {
      ipRes.innerHTML = '<p style="color:red;">Gagal melacak IP. (' + e.message + ')</p>';
    }
  }

  const trackBtn = document.getElementById('trackBtn');
  if (trackBtn) trackBtn.addEventListener('click', trackIP);
  </script>
</body>
</html>`;
};
